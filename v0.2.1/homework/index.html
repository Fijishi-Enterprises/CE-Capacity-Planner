<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Homework: Modeling Exercise · CapacityExpansion.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/cep_text.svg" rel="icon" type="image/x-icon"/><link href="../assets/opt_cep.svg" rel="icon" type="image/x-icon"/><link href="../assets/workflow.svg" rel="icon" type="image/x-icon"/><link href="../assets/GER_1.svg" rel="icon" type="image/x-icon"/><link href="../assets/GER_18.svg" rel="icon" type="image/x-icon"/><link href="../assets/CA_1.svg" rel="icon" type="image/x-icon"/><link href="../assets/CA_14.svg" rel="icon" type="image/x-icon"/><link href="../assets/opt_cep_cap_plot.svg" rel="icon" type="image/x-icon"/><link href="../assets/preparing_clust_data_load.svg" rel="icon" type="image/x-icon"/><link href="../assets/preparing_clust_data_agg.svg" rel="icon" type="image/x-icon"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="CapacityExpansion.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">CapacityExpansion.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../quickstart/">Quickstart</a></li><li><a class="tocitem" href="../workflow/">Workflow</a></li><li><span class="tocitem">Data</span><ul><li><a class="tocitem" href="../preparing_clust_data/">Preparing ClustData</a></li><li><a class="tocitem" href="../preparing_opt_cep_data/">Preparing OptDataCEP</a></li><li><a class="tocitem" href="../csv_structure/">Provided Data &amp; Personal Data Setup</a></li><li><a class="tocitem" href="../README_GER_18/">GER-18</a></li><li><a class="tocitem" href="../README_GER_1/">GER-1</a></li><li><a class="tocitem" href="../README_CA_14/">CA-14</a></li><li><a class="tocitem" href="../README_CA_1/">CA-1</a></li><li><a class="tocitem" href="../README_TX_1/">TX-1</a></li></ul></li><li><span class="tocitem">Optimization</span><ul><li><a class="tocitem" href="../opt_cep/">Optimization Problem Formulation</a></li><li><a class="tocitem" href="../results_opt/">Result</a></li><li><a class="tocitem" href="../opt_cep_examples/">Examples</a></li></ul></li><li><span class="tocitem">Teaching</span><ul><li><a class="tocitem" href="../teaching/">Teaching</a></li><li class="is-active"><a class="tocitem" href>Homework: Modeling Exercise</a><ul class="internal"><li><a class="tocitem" href="#Initial-instructions:-1"><span>Initial instructions:</span></a></li><li><a class="tocitem" href="#Part-1:-Getting-Set-Up-1"><span>Part 1: Getting Set Up</span></a></li><li><a class="tocitem" href="#Part-2-–-Comparing-Policies-1"><span>Part 2 – Comparing Policies</span></a></li><li><a class="tocitem" href="#Part-3-–-Testing-Assumptions-1"><span>Part 3 – Testing Assumptions</span></a></li><li><a class="tocitem" href="#Part-4-–-Storage-Sensitivities-1"><span>Part 4 – Storage Sensitivities</span></a></li><li><a class="tocitem" href="#Part-5-–-Final-Analysis-1"><span>Part 5 – Final Analysis</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../testing/">Testing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Teaching</a></li><li class="is-active"><a href>Homework: Modeling Exercise</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Homework: Modeling Exercise</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/YoungFaithful/CapacityExpansion.jl/blob/master/docs/src/homework.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Homework:-Modeling-Exercise-1"><a class="docs-heading-anchor" href="#Homework:-Modeling-Exercise-1">Homework: Modeling Exercise</a><a class="docs-heading-anchor-permalink" href="#Homework:-Modeling-Exercise-1" title="Permalink"></a></h1><p>Copyright 2019, Patricia Levi, Elias Kuepper, and contributors</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><pre><code class="language-none">The corresponding files can be found in the folder [.../CapacityExpansion/teaching/](https://github.com/YoungFaithful/CapacityExpansion.jl/tree/dev/teaching)</code></pre></div></div><p>MS&amp;E 394 Spring 2019</p><p>Advanced Methods in Modeling for Climate and Energy Policy at Stanford University</p><p>Modelling Exercise: Capacity Expansion Planning</p><p>Due: May 6, 2019, at 10pm</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This problem set serves to reinforce concepts from the class regarding capacity expansion modelling for electricity. It provides hands-on experience in understanding and interpreting the outputs of a typical capacity expansion problem and grappling with the inevitable modelling decisions that must be made. It also requires you to work through a command-line interface and understand how to connect to a remote server, valuable skills for working with large models that are hosted beyond your laptop.</p></div></div><h2 id="Initial-instructions:-1"><a class="docs-heading-anchor" href="#Initial-instructions:-1">Initial instructions:</a><a class="docs-heading-anchor-permalink" href="#Initial-instructions:-1" title="Permalink"></a></h2><ul><li>You may work with other students to run the model. However, you are expected to understand everything that is done, write up your own interpretations, and submit your own homework. If you do work together, please note that on your problem set.</li><li>The scripts <span>$homework\_utils.jl$</span> and <span>$homework\_template.jl$</span> contain the code you will need to run to complete this problem set. The first contains helper plotting functions. The second contains examples of the code you need to run to answer the questions below. You will need to add to the provided code to complete this homework, and you should submit a copy of your code along with your writeup.</li><li>This problem set should be written in such a way that you should not need any specific knowledge of Julia to complete it, although it will probably feel easier if you are comfortable with a scripting language. If you find that the contained instructions are insufficient, please reach out.</li></ul><h3 id="Modeling-tool:-Julia-1"><a class="docs-heading-anchor" href="#Modeling-tool:-Julia-1">Modeling tool: Julia</a><a class="docs-heading-anchor-permalink" href="#Modeling-tool:-Julia-1" title="Permalink"></a></h3><p>Julia is a relatively new programming language that is quickly being adopted for a variety of uses due to its fast run times with large operations. It has a robust set of optimization packages that make it ideal for electricity optimization problems. Elias Kuepper and Holger Teichgraeber have developed a package for Julia that runs a classic capacity expansion model, which we will be using for this problem set.</p><p>In order to run julia-code you can use a local julia installation on your computer.</p><h2 id="Part-1:-Getting-Set-Up-1"><a class="docs-heading-anchor" href="#Part-1:-Getting-Set-Up-1">Part 1: Getting Set Up</a><a class="docs-heading-anchor-permalink" href="#Part-1:-Getting-Set-Up-1" title="Permalink"></a></h2><ol><li>Install julia via <a href="http://docs.junolab.org/latest/man/installation/">these instructions</a> on your computer. This problem set is designed to run with a julia version 1.0 or higher. We also recommend installing the <a href="https://junolab.org/">Juno-IDE</a>.</li><li>Open Atom</li><li>File/Open Folder... (Ctr+Shift+O) and select your homework directory</li><li>Open the <code>homework_template.jl</code>-file and run it line by line (Shift+Enter). You can interactively have a look at the results, and the plots will be shown within Atom.</li></ol><h3 id="Overview-of-CapacityExpansion.jl-1"><a class="docs-heading-anchor" href="#Overview-of-CapacityExpansion.jl-1">Overview of CapacityExpansion.jl</a><a class="docs-heading-anchor-permalink" href="#Overview-of-CapacityExpansion.jl-1" title="Permalink"></a></h3><p><code>CapacityExpansion.jl</code> is a package that runs a basic capacity expansion model, as described in class. The documentation is available <a href="https://youngfaithful.github.io/CapacityExpansion.jl/stable/">here</a>. We are using it to model Germany using 2015 data. In this problem set, the package&#39;s integrated clustering algorithm selects 10 representative days to model the whole year. To begin, we will use it as a greenfield model with no transmission constraints, but it is capable of representing greater detail on these fronts.</p><p>This model runs relatively quickly, although in some configurations it may take a few minutes to run. If you find it takes much longer (say, upwards of 10 minutes), chances are you don&#39;t need to do what you&#39;re doing (or your computer is running very slowly).</p><p>The main function you will be interacting with is run_opt(), which runs the capacity expansion problem. There are two sets of arguments given to this function, separated by a semicolon. The first set are unnamed arguments, and they include the time-series data (ts_clust_data.clust_data), non-time-series data (cep_data), and the type of optimizer to use. The second set is named (i.e. identified with <em>argname</em>= <em>your argument value</em>), and this is where we will be adjusting key parameters like the CO2 emissions limit, the transmission constraints, and the type of storage that is available. The <span>$descriptor$</span> argument is for identifying the results of that run in plots and charts, so please name it appropriately.</p><p>There are two ways to run the code:</p><ol><li>Copy pasting the code from your code editor directly into the command line.</li><li>Once you have adjusted the code to your liking, save your edited code, and then call <code>include(&quot;homework\_template.jl&quot;)</code> from Julia. The downside of this approach is that it may be harder to deal with errors. The upside is that you can go make yourself a cup of coffee while the code runs.</li></ol><p>Recommended to start with (1) and progress to (2) once you think your script does exactly what you want.</p><p>Overview of available plotting scripts</p><p>There are three plotting scripts available to help visualize your results. They each create a bar chart and save it, and they display the underlying data for the plot and save that as a CSV. They will save their output in the directory in which you are running Julia. The provided script shows how to use them. They all take, as a first argument, an array of model results created like this:</p><pre><code class="language-julia">results = [modelresult1, modelresult2, modelresult3]</code></pre><p>As a second argument, they all take an output name that will be used to name the <code>.png</code>-file of the plot and the <code>.csv</code>-file saved by the function. They all save a <code>.png</code>-file of the plot and a <code>.csv</code>-file of the plotted data by default.</p><ol><li><strong>plotgen()</strong></li></ol><p>plots the total generation over the whole year from different resources</p><ol><li><strong>plotcapacity()</strong></li></ol><p>plots the total installed capacity by generation type</p><ol><li><strong>plotcost()</strong></li></ol><p>plots the cost of operating the system for the whole year.</p><p>General workflow</p><p>For each part below, we will follow the following workflow:</p><ol><li>Adjust technology costs if needed (only in the sensitivities section) by creating a new version of the <code>cep\_data</code> variable and providing that to <code>run\_opt()</code> when you call it.</li><li>Run the model several times with different parameter values</li><li>Combine the results together that we wish to compare</li><li>Plot them and inspect the results</li></ol><h2 id="Part-2-–-Comparing-Policies-1"><a class="docs-heading-anchor" href="#Part-2-–-Comparing-Policies-1">Part 2 – Comparing Policies</a><a class="docs-heading-anchor-permalink" href="#Part-2-–-Comparing-Policies-1" title="Permalink"></a></h2><p>A policy-maker in Germany wants to set a CO2 emissions rate limit for their electricity sector for 2050, but they are not sure what level to set. They need you to help them understand the impacts of different possible limits. The highest rate they are considering is 500 kg-CO2 e/MWh, and the lowest is 10 kg-CO2e/MWh. They would like to better understand the tradeoffs between a tighter cap and greater costs.</p><ol><li>Run the model for several different levels of emissions rate limits (the code is set up to do three, but you may do more), and describe how cost, capacity, and generation shift with tighter caps. Include any data or plots needed to make your point</li></ol><h2 id="Part-3-–-Testing-Assumptions-1"><a class="docs-heading-anchor" href="#Part-3-–-Testing-Assumptions-1">Part 3 – Testing Assumptions</a><a class="docs-heading-anchor-permalink" href="#Part-3-–-Testing-Assumptions-1" title="Permalink"></a></h2><p>The model we are running makes several simplifying assumptions. By default, it assumes a greenfield model with no transmission constraints. Before proceeding with our study, we should test a few key assumptions.</p><ol><li>First test the greenfield assumption, which allows the model to build the electricity system from scratch, without considering the existing generation. Compare the results with and without existing infrastructure by setting</li></ol><pre><code class="language-julia">infrastructure=Dict{String,Array}(&quot;existing&quot;=&gt;[&quot;all&quot;])</code></pre><p>instead of the default, where only demand is existing</p><pre><code class="language-julia">infrastructure=Dict{String,Array}(&quot;existing&quot;=&gt;[&quot;demand&quot;])</code></pre><p>inside of the model call. You may choose to compare this run with one of the ones done in <em>part 2</em>, but be sure to use the same emissions limit.  Describe the effect, and include any data or plots needed to make your point. Argue whether it makes more sense to run a greenfield or a brownfield model, and use that assumption for the rest of your simulations.</p><ol><li>Next, test the transmission assumption.  The first simulations did not include transmission constraints. Compare the results with and without transmission by setting</li></ol><pre><code class="language-julia">transmission = true #or false</code></pre><p>inside of the model call (<code>false</code> is the default). You may choose to compare this run with one of the ones done in <em>part 2</em>, but be sure to use the same emissions limit. Discuss the effect of including transmission constraints and argue whether the gain in realism is worth the cost in increased computational complexity, and include any data or plots needed to make your point. Use the better assumption for the rest of your simulations.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>There are no right or wrong choices here. We are looking for a reasonable explanation of your choice, and an understanding of the pros, cons, and potential impact on your results.</p></div></div><h2 id="Part-4-–-Storage-Sensitivities-1"><a class="docs-heading-anchor" href="#Part-4-–-Storage-Sensitivities-1">Part 4 – Storage Sensitivities</a><a class="docs-heading-anchor-permalink" href="#Part-4-–-Storage-Sensitivities-1" title="Permalink"></a></h2><p>The policy-maker who has posed this question to you is very interested in R&amp;amp;D for battery technology, and is quite the technological optimist regarding their potential. They are curious how declines in storage costs might affect these results. Keep in mind that the effect may be different at different levels of emissions cap stringency.</p><ol><li>First, test the effect of including storage in the model by setting</li></ol><pre><code class="language-julia">storage_type = &quot;simple&quot;
conversion = true</code></pre><p>inside of the model call and keeping this setting for the remainder of this part. This setting makes batteries and hydrogen storage available. Compare the results of this simulation to a previous simulation and comment on the effect, and include any data or plots needed to make your point.</p><ol><li><p>Next, test the effect of declines in the cost of battery storage costs – simulate a range of cost declines. Describe how they affect the outcomes of a relatively high CO2 cap and a relatively low CO2 cap, and include any data or plots needed to make your point.</p></li><li><p>Finally, test the effect of declines in the cost of hydrogen storage costs – simulate a range of cost declines. Describe how they affect the outcomes of a relatively high CO2 cap and a relatively low CO2 cap, and include any data or plots needed to make your point.</p></li></ol><h2 id="Part-5-–-Final-Analysis-1"><a class="docs-heading-anchor" href="#Part-5-–-Final-Analysis-1">Part 5 – Final Analysis</a><a class="docs-heading-anchor-permalink" href="#Part-5-–-Final-Analysis-1" title="Permalink"></a></h2><p>Write a short summary of your recommendations to the policy-maker. Describe your findings as they may be relevant to the policy-maker&#39;s given interests, including key differences between the options, describing the impact of essential uncertainties, and noting any key limitations to your study. Conduct any final simulations, if you feel there is some combination of parameters that would be useful to explore.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The question is intended to be broad and open-ended, as this type of broad synthesis is a key part of policy analysis. Use your best judgment to provide insight to this policy-maker, telling them the key features from your results that will inform their upcoming decisions. We are looking for a clear and cogent explanation of a few key results, explained in a way that a non-technical person could understand.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../teaching/">« Teaching</a><a class="docs-footer-nextpage" href="../testing/">Testing »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 27 August 2020 09:05">Thursday 27 August 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
